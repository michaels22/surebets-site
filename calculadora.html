<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calculadora Surebet</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: #000;
      color: #fff;
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .calculadora {
      background-color: #1e1e1e;
      padding: 20px 30px;
      border-radius: 10px;
      max-width: 600px;
      width: 100%;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.6);
    }

    h2 {
      margin-top: 0;
      margin-bottom: 5px;
    }

    .subtitle {
      font-size: 0.95rem;
      color: #ccc;
      margin-bottom: 20px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    th, td {
      padding: 10px;
      text-align: center;
    }

    th {
      font-weight: 600;
      color: #ccc;
    }

    input[type="number"] {
      background-color: #333;
      color: #fff;
      border: none;
      padding: 6px;
      border-radius: 4px;
      width: 70px;
      text-align: center;
    }

    .lucro {
      color: #00c853;
    }

    .resultado {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.95rem;
      margin-top: 10px;
    }

    #valorTotalInvestido {
      margin-left: 10px;
      background-color: #333;
      color: #fff;
      border: none;
      padding: 6px;
      border-radius: 4px;
      width: 80px;
    }

    .botao-verde {
      margin-top: 20px;
      background-color: #00c853;
      color: white;
      border: none;
      padding: 8px 16px;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
    }

    .botao-verde:hover {
      background-color: #00b347;
    }
  </style>
</head>
<body>

  <div class="calculadora">
    <h2>Calculadora</h2>
    <div class="subtitle">kc royals - chi white sox</div>

    <table>
      <thead>
        <tr><th>Casa</th><th>Aposta</th><th>Odd</th><th>Valor</th><th>Lucro</th></tr>
      </thead>
      <tbody>
        <tr>
          <td>McGames</td>
          <td>Mais de (4.5)</td>
          <td><input type="number" class="odd" value="2.05" step="0.01" /></td>
          <td><input type="number" class="valor" value="50" /></td>
          <td class="lucro">R$0</td>
        </tr>
        <tr>
          <td>Bet365</td>
          <td>Menos de (4.5)</td>
          <td><input type="number" class="odd" value="2.05" step="0.01" /></td>
          <td><input type="number" class="valor" value="50" /></td>
          <td class="lucro">R$0</td>
        </tr>
      </tbody>
    </table>

    <div class="resultado">
      <div>
        <strong>Total investido:</strong>
        <input type="number" id="valorTotalInvestido" placeholder="Total" />
      </div>
  <div style="display: flex; align-items: center; gap: 6px;">
    <strong>Porcentagem ganha:</strong>
    <strong id="porcentagemLucro" class="lucro">0%</strong>
  </div>
</div>

  <script>
    let ultimoEditado = null;

    function calcularLucro() {
  const odds = document.querySelectorAll('.odd');
  const valores = document.querySelectorAll('.valor');
  const lucros = document.querySelectorAll('.lucro');
  const totalInvestidoTexto = document.getElementById('totalInvestidoTexto');
  const porcentagemLucro = document.getElementById('porcentagemLucro');
  const valorTotalInput = document.getElementById('valorTotalInvestido');

  const odd1 = parseFloat(odds[0].value);
  const odd2 = parseFloat(odds[1].value);
  let valor1 = parseFloat(valores[0].value);
  let valor2 = parseFloat(valores[1].value);
  let totalInvestido = parseFloat(valorTotalInput.value);

  if (!isNaN(totalInvestido) && totalInvestido > 0 && valorTotalInput === document.activeElement) {
    valor1 = totalInvestido / (1 + (odd1 / odd2));
    valor2 = totalInvestido - valor1;
    valores[0].value = valor1.toFixed(2);
    valores[1].value = valor2.toFixed(2);
  } else if (ultimoEditado === valores[0]) {
    if (!isNaN(valor1)) {
      valor2 = (valor1 * odd1) / odd2;
      valores[1].value = valor2.toFixed(2);
    }
    totalInvestido = valor1 + valor2;
  } else if (ultimoEditado === valores[1]) {
    if (!isNaN(valor2)) {
      valor1 = (valor2 * odd2) / odd1;
      valores[0].value = valor1.toFixed(2);
    }
    totalInvestido = valor1 + valor2;
  }

  const lucro1 = (valor1 * odd1 - totalInvestido).toFixed(2);
  const lucro2 = (valor2 * odd2 - totalInvestido).toFixed(2);
  lucros[0].textContent = `R$${lucro1}`;
  lucros[1].textContent = `R$${lucro2}`;

if (document.activeElement !== valorTotalInput) {
  valorTotalInput.value = totalInvestido.toFixed(2);
}

  // Preencher o input do total se nÃ£o estiver sendo editado manualmente
  if (isNaN(parseFloat(valorTotalInput.value)) || valorTotalInput !== document.activeElement) {
    valorTotalInput.value = totalInvestido.toFixed(2);
  }

  const porcentagem = ((Math.min(lucro1, lucro2) / totalInvestido) * 100).toFixed(2);
  porcentagemLucro.textContent = `${porcentagem}%`;
}

    // Foco em qual campo foi editado
    document.querySelectorAll('.valor').forEach(el => {
      el.addEventListener('focus', () => {
        ultimoEditado = el;
      });
    });

    // Recalcular ao digitar
    document.querySelectorAll('.odd, .valor, #valorTotalInvestido').forEach(el => {
      el.addEventListener('input', () => {
        if (el.id === 'valorTotalInvestido') {
          ultimoEditado = null;
        }
        calcularLucro();
      });
    });
  </script>

</body>
</html>
